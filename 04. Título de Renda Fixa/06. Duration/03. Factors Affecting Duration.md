## Fatores Determinantes das Medidas de Duration em T√≠tulos de Renda Fixa

### Introdu√ß√£o
Este cap√≠tulo dedica-se a explorar os **fatores determinantes** das medidas de **duration**, com √™nfase em como esses fatores influenciam a sensibilidade de t√≠tulos de renda fixa √†s varia√ß√µes nas taxas de juro. Expandindo o conceito de duration modificada [^16] e sua aplica√ß√£o no mercado brasileiro, como abordado no cap√≠tulo anterior, entender os drivers da duration √© crucial para investidores e gestores de carteira que buscam otimizar a aloca√ß√£o de ativos e gerenciar o risco de taxa de juro de forma eficaz.

### Conceitos Fundamentais
A **duration** √© uma medida de sensibilidade do pre√ßo de um t√≠tulo de renda fixa √†s varia√ß√µes nas taxas de juro [^15]. A duration modificada, por sua vez, fornece uma estimativa percentual da varia√ß√£o no pre√ßo do t√≠tulo para uma dada altera√ß√£o na taxa de juro [^16]. No entanto, a magnitude da duration, e consequentemente da duration modificada, √© influenciada por uma s√©rie de fatores intr√≠nsecos e extr√≠nsecos ao t√≠tulo.

#### Fatores Determinantes da Duration
Os principais fatores que determinam a magnitude da duration incluem:

*   **Cupom de Juros (Cupom de juros)**: Existe uma rela√ß√£o *inversamente relacionada* entre o cupom de juros e a duration. Quanto menor o cupom, maior a duration e, consequentemente, maior a sensibilidade do t√≠tulo √†s varia√ß√µes nas taxas de juro [^16]. Isso ocorre porque t√≠tulos com cupons menores dependem mais do pagamento do valor de face no vencimento, tornando seu valor presente mais sens√≠vel √†s taxas de desconto.

> üí° **Exemplo Num√©rico:** Considere dois t√≠tulos, ambos com valor de face de R\$ 1.000 e vencimento em 3 anos. O t√≠tulo A paga um cupom anual de 2%, enquanto o t√≠tulo B paga um cupom anual de 8%. Assumindo que ambos os t√≠tulos t√™m o mesmo *yield to maturity* (YTM) de 5%, o t√≠tulo A ter√° uma duration maior que o t√≠tulo B. Isso ocorre porque o t√≠tulo A depende mais do pagamento do valor de face no vencimento, tornando-o mais sens√≠vel a mudan√ßas nas taxas de juros.
>
> Usando Python, podemos calcular a duration aproximada para ambos os t√≠tulos:
> ```python
> import numpy as np
>
> # Par√¢metros dos t√≠tulos
> face_value = 1000
> maturity = 3
> ytm = 0.05
>
> # T√≠tulo A: Cupom de 2%
> coupon_A = 0.02 * face_value
> cf_A = np.array([coupon_A] * (maturity - 1) + [coupon_A + face_value])
> t_A = np.arange(1, maturity + 1)
> pv_cf_A = cf_A / (1 + ytm)**t_A
> duration_A = np.sum(t_A * pv_cf_A) / np.sum(pv_cf_A)
>
> # T√≠tulo B: Cupom de 8%
> coupon_B = 0.08 * face_value
> cf_B = np.array([coupon_B] * (maturity - 1) + [coupon_B + face_value])
> t_B = np.arange(1, maturity + 1)
> pv_cf_B = cf_B / (1 + ytm)**t_B
> duration_B = np.sum(t_B * pv_cf_B) / np.sum(pv_cf_B)
>
> print(f"Duration do t√≠tulo A (cupom 2%): {duration_A:.2f} anos")
> print(f"Duration do t√≠tulo B (cupom 8%): {duration_B:.2f} anos")
> ```
>
> Os resultados mostrar√£o que a duration do t√≠tulo A √© maior do que a duration do t√≠tulo B, confirmando a rela√ß√£o inversa entre o cupom e a duration.

*   **Amortiza√ß√£o do Principal (Amortiza√ß√£o do principal)**: A amortiza√ß√£o do principal est√° *inversamente relacionada* com a duration. Quanto menor a amortiza√ß√£o (ou seja, quanto mais tempo leva para o principal ser pago), maior a duration [^16]. T√≠tulos que demoram mais para retornar o principal s√£o mais sens√≠veis a varia√ß√µes nas taxas de juro, pois seus fluxos de caixa futuros t√™m um valor presente mais afetado pelas taxas de desconto.

> üí° **Exemplo Num√©rico:** Compare um t√≠tulo bullet (todo o principal pago no vencimento) com um t√≠tulo que amortiza o principal anualmente ao longo do prazo. Ambos t√™m um prazo de 5 anos e a mesma taxa de cupom. O t√≠tulo bullet ter√° uma duration maior porque o investidor s√≥ receber√° o principal de volta no final do per√≠odo, enquanto o t√≠tulo com amortiza√ß√£o anual do principal retorna parte do principal a cada ano, reduzindo a sua sensibilidade √† taxa de juros.
>
>  Considere que ambos os t√≠tulos tenham valor de face de R\$ 1000 e cupom anual de 5%. O t√≠tulo A √© um t√≠tulo bullet e o t√≠tulo B amortiza R\$200 do principal anualmente.
>
> ```python
> import numpy as np
>
> # Par√¢metros dos t√≠tulos
> face_value = 1000
> maturity = 5
> ytm = 0.05
> coupon_rate = 0.05
>
> # T√≠tulo A: Bullet
> coupon_A = coupon_rate * face_value
> cf_A = np.array([coupon_A] * (maturity - 1) + [coupon_A + face_value])
> t_A = np.arange(1, maturity + 1)
> pv_cf_A = cf_A / (1 + ytm)**t_A
> duration_A = np.sum(t_A * pv_cf_A) / np.sum(pv_cf_A)
>
> # T√≠tulo B: Amortiza√ß√£o anual
> principal_amortization = face_value / maturity
> cf_B = np.array([coupon_rate * (face_value - i * principal_amortization) + principal_amortization for i in range(maturity)])
> t_B = np.arange(1, maturity + 1)
> pv_cf_B = cf_B / (1 + ytm)**t_B
> duration_B = np.sum(t_B * pv_cf_B) / np.sum(pv_cf_B)
>
> print(f"Duration do t√≠tulo A (Bullet): {duration_A:.2f} anos")
> print(f"Duration do t√≠tulo B (Amortiza√ß√£o Anual): {duration_B:.2f} anos")
> ```
> Executando o c√≥digo, vemos que a duration do t√≠tulo bullet √© maior do que a duration do t√≠tulo com amortiza√ß√£o anual.

*   **Maturidade (Maturidade)**: A maturidade e a duration est√£o *diretamente relacionadas*. Quanto menor a maturidade, menor a duration [^17]. T√≠tulos com vencimentos mais curtos s√£o menos sens√≠veis a varia√ß√µes nas taxas de juro porque h√° menos tempo para que essas varia√ß√µes afetem seus fluxos de caixa.

> üí° **Exemplo Num√©rico:** Compare dois t√≠tulos com cupons id√™nticos (por exemplo, 5% ao ano), mas com maturidades diferentes: um com 1 ano e outro com 10 anos. O t√≠tulo com 10 anos de maturidade ter√° uma duration significativamente maior do que o t√≠tulo com 1 ano. Isso significa que o pre√ßo do t√≠tulo de 10 anos ser√° mais sens√≠vel a mudan√ßas nas taxas de juros.

*   **Taxa de Retorno (Taxa de retorno)**: A taxa de retorno (*yield to maturity*) e a duration s√£o *inversamente relacionadas*. Quanto maior a taxa de retorno, menor a duration [^17]. Isso ocorre porque taxas de retorno mais altas diminuem o valor presente dos fluxos de caixa futuros, reduzindo a sensibilidade do t√≠tulo √†s varia√ß√µes nas taxas de juro.

> üí° **Exemplo Num√©rico:** Considere um t√≠tulo com valor de face de R\$ 1.000, vencimento em 5 anos e cupom anual de 6%. Se a taxa de retorno (YTM) do t√≠tulo aumentar de 5% para 10%, a duration do t√≠tulo diminuir√°.
>
> ```python
> import numpy as np
>
> # Par√¢metros do t√≠tulo
> face_value = 1000
> maturity = 5
> coupon_rate = 0.06
> coupon = coupon_rate * face_value
> t = np.arange(1, maturity + 1)
>
> # YTM de 5%
> ytm1 = 0.05
> cf = np.array([coupon] * (maturity - 1) + [coupon + face_value])
> pv_cf1 = cf / (1 + ytm1)**t
> duration1 = np.sum(t * pv_cf1) / np.sum(pv_cf1)
>
> # YTM de 10%
> ytm2 = 0.10
> pv_cf2 = cf / (1 + ytm2)**t
> duration2 = np.sum(t * pv_cf2) / np.sum(pv_cf2)
>
> print(f"Duration com YTM de 5%: {duration1:.2f} anos")
> print(f"Duration com YTM de 10%: {duration2:.2f} anos")
> ```
> O c√≥digo demonstra que um YTM mais alto resulta em uma duration menor.

*   **Cl√°usulas de *Calls* e *Puts***: Cl√°usulas de *call* e *put* t√™m o efeito de *diminuir a duration* de um t√≠tulo [^17]. Cl√°usulas de *call* d√£o ao emissor o direito de recomprar o t√≠tulo antes do vencimento, enquanto cl√°usulas de *put* d√£o ao investidor o direito de vender o t√≠tulo de volta ao emissor antes do vencimento. Ambos os tipos de cl√°usulas limitam o per√≠odo de tempo em que o t√≠tulo permanece no mercado, reduzindo sua sensibilidade √†s taxas de juro.

> üí° **Exemplo Num√©rico:** Imagine dois t√≠tulos com vencimento em 10 anos e cupom de 7%, mas um tem uma cl√°usula de *call* que permite ao emissor recompr√°-lo ap√≥s 5 anos. O t√≠tulo com a cl√°usula de *call* ter√° uma duration menor, pois o investidor n√£o tem garantia de que receber√° os fluxos de caixa pelos 10 anos. A duration efetiva ser√° menor do que a duration do t√≠tulo sem a cl√°usula de *call*.

*   **Frequ√™ncia de Pagamentos do Cupom de Juros (Frequ√™ncia de pagamentos do cupom de juros)**: Para dois t√≠tulos com a mesma taxa anual de cupom de juros, o t√≠tulo que paga o cupom com maior frequ√™ncia dentro do ano ter√° uma duration menor [^17]. Isso ocorre porque o pagamento mais frequente de cupons reduz o tempo m√©dio ponderado at√© o recebimento dos fluxos de caixa, diminuindo a sensibilidade do t√≠tulo √†s taxas de juro.

> üí° **Exemplo Num√©rico:** Considere dois t√≠tulos com valor de face de R\$ 1000 e vencimento em 5 anos. O primeiro paga um cupom anual de 3%, enquanto o segundo paga um cupom semestral de 1,5% (totalizando 3% ao ano). Assumindo a mesma taxa de juros de mercado para ambos (digamos, 5%), o t√≠tulo com pagamento semestral de cupons ter√° uma duration ligeiramente menor do que a duration do t√≠tulo com pagamento anual de cupons. Isso ocorre porque o recebimento semestral dos cupons reduz o tempo m√©dio ponderado at√© o recebimento dos fluxos de caixa.
>
> Podemos calcular a duration para ambos os t√≠tulos usando Python para confirmar essa intui√ß√£o.
```python
import numpy as np

# Par√¢metros dos t√≠tulos
face_value = 1000
maturity = 5
r = 0.05

# T√≠tulo 1: Cupom anual de 3%
coupon1 = 0.03 * face_value
cf1 = np.array([coupon1] * (maturity - 1) + [coupon1 + face_value])
t1 = np.arange(1, maturity + 1)
pv_cf1 = cf1 / (1 + r)**t1
duration1 = np.sum(t1 * pv_cf1) / np.sum(pv_cf1)

# T√≠tulo 2: Cupom semestral de 1.5% (3% ao ano)
coupon2 = 0.015 * face_value
periods = 2 * maturity
cf2 = np.array([coupon2] * (periods - 1) + [coupon2 + face_value])
t2 = np.arange(1, periods + 1) / 2  # Divide por 2 para refletir os per√≠odos semestrais
pv_cf2 = cf2 / (1 + r/2)**t2  # Divide r por 2 para a taxa semestral
duration2 = np.sum(t2 * pv_cf2) / np.sum(pv_cf2)

print(f"Duration do t√≠tulo com cupom anual de 3%: {duration1:.2f} anos")
print(f"Duration do t√≠tulo com cupom semestral de 1.5%: {duration2:.2f} anos")

```
Executando o c√≥digo acima, confirmamos que a duration do t√≠tulo com cupom semestral √© ligeiramente menor que a duration do t√≠tulo com cupom anual.

#### Impacto dos Fatores na Duration Modificada
Os fatores que afetam a duration tamb√©m influenciam a duration modificada, j√° que esta √∫ltima √© calculada a partir da duration. Em particular, a duration modificada √© inversamente proporcional √† taxa de retorno, al√©m de ser afetada pelos outros fatores mencionados acima.

$$
\text{Duration Modificada} = \frac{\text{Dura√ß√£o}}{(1 + \text{taxa})}
$$

Assim, uma mudan√ßa em qualquer um dos fatores determinantes da duration resultar√° em uma mudan√ßa na duration modificada, alterando a sensibilidade do pre√ßo do t√≠tulo √†s varia√ß√µes nas taxas de juro.

**Proposi√ß√£o 1:** A duration modificada pode ser aproximada pela derivada do pre√ßo do t√≠tulo em rela√ß√£o √† taxa de juros, normalizada pelo pre√ßo do t√≠tulo.

**Prova:**
A duration modificada ($D_{mod}$) √© definida como a sensibilidade percentual do pre√ßo de um t√≠tulo a uma mudan√ßa na taxa de juros:
$$D_{mod} = -\frac{1}{P} \frac{\partial P}{\partial y}$$
onde $P$ √© o pre√ßo do t√≠tulo e $y$ √© a taxa de juros. Esta express√£o demonstra que a duration modificada representa a varia√ß√£o percentual no pre√ßo do t√≠tulo para uma varia√ß√£o unit√°ria na taxa de juros. $\blacksquare$

> üí° **Exemplo Num√©rico:** Se um t√≠tulo tem uma duration de 4 anos e uma taxa de juros de 8% ao ano, a sua duration modificada √©:
>
>  $$D_{mod} = \frac{4}{1 + 0.08} \approx 3.7 \text{ anos}$$
>
>  Isso significa que, para cada aumento de 1% na taxa de juros, o pre√ßo do t√≠tulo deve diminuir aproximadamente 3.7%. Se a taxa de juros subir de 8% para 9%, o pre√ßo do t√≠tulo dever√° cair aproximadamente 3.7%.

#### Implica√ß√µes para Gest√£o de Carteiras
Compreender os fatores que influenciam a duration e a duration modificada √© fundamental para a gest√£o de carteiras de renda fixa. Gestores de carteira podem ajustar a aloca√ß√£o de ativos e a sele√ß√£o de t√≠tulos para atingir um n√≠vel desejado de risco de taxa de juro. Por exemplo, um gestor que espera um aumento nas taxas de juro pode reduzir a duration da carteira, investindo em t√≠tulos com vencimentos mais curtos, cupons mais altos ou cl√°usulas de *call* e *put*. Por outro lado, um gestor que espera uma queda nas taxas de juro pode aumentar a duration da carteira, investindo em t√≠tulos com vencimentos mais longos, cupons mais baixos ou sem cl√°usulas de *call* e *put*.

Para ilustrar como os fatores determinantes da duration podem ser usados na gest√£o de carteiras, considere o seguinte teorema:

**Teorema 3:** *Para dois t√≠tulos com pre√ßos e yields iniciais iguais, o t√≠tulo com menor duration modificada ser√° menos impactado por um choque nas taxas de juros.*

**Prova:**

I. A varia√ß√£o percentual no pre√ßo de um t√≠tulo √© aproximada por:
$$\frac{\Delta P}{P} \approx -D_{mod} \cdot \Delta y$$
II. Suponha dois t√≠tulos com pre√ßos iniciais $P_1 = P_2 = P$ e yields iniciais $y_1 = y_2 = y$, sujeitos a um choque nas taxas de juros $\Delta y$.
III. As varia√ß√µes percentuais nos pre√ßos dos t√≠tulos s√£o:
$$\frac{\Delta P_1}{P} \approx -D_{mod,1} \cdot \Delta y$$
$$\frac{\Delta P_2}{P} \approx -D_{mod,2} \cdot \Delta y$$
IV. Se $D_{mod,1} < D_{mod,2}$, ent√£o $|\frac{\Delta P_1}{P}| < |\frac{\Delta P_2}{P}|$, o que significa que a varia√ß√£o percentual no pre√ßo do t√≠tulo 1 √© menor em magnitude do que a varia√ß√£o percentual no pre√ßo do t√≠tulo 2.
V. Portanto, o t√≠tulo com menor duration modificada ser√° menos impactado por um choque nas taxas de juros. $\blacksquare$

> üí° **Exemplo Num√©rico:** Um investidor tem uma carteira de R\$ 1 milh√£o e espera um aumento nas taxas de juro. Ele est√° considerando duas op√ß√µes:
>
> *   Op√ß√£o A: Investir em t√≠tulos com duration modificada m√©dia de 4 anos.
> *   Op√ß√£o B: Investir em t√≠tulos com duration modificada m√©dia de 2 anos.
>
> Se o investidor espera um aumento de 0.5% nas taxas de juro, a varia√ß√£o estimada no valor da carteira para cada op√ß√£o seria:
>
> *   Op√ß√£o A: $\Delta P \approx -4 \times 0.005 \times 1,000,000 = -\text{R\$} 20,000$
> *   Op√ß√£o B: $\Delta P \approx -2 \times 0.005 \times 1,000,000 = -\text{R\$} 10,000$
>
> Isso demonstra que a carteira com menor duration modificada (Op√ß√£o B) sofrer√° uma perda menor em caso de aumento das taxas de juro.

Para complementar o Teorema 3, podemos estender a an√°lise para o caso de carteiras de t√≠tulos.

**Teorema 3.1:** *A duration modificada de uma carteira de t√≠tulos √© a m√©dia ponderada das durations modificadas dos t√≠tulos individuais, ponderadas pelas suas propor√ß√µes no valor total da carteira.*

**Prova:**
Seja $P$ o valor total da carteira, composto por $n$ t√≠tulos, onde $P_i$ √© o pre√ßo do t√≠tulo $i$ e $w_i = \frac{P_i}{P}$ √© o peso do t√≠tulo $i$ na carteira. A duration modificada da carteira, $D_{mod,carteira}$, √© dada por:

$$D_{mod,carteira} = \sum_{i=1}^{n} w_i \cdot D_{mod,i}$$

onde $D_{mod,i}$ √© a duration modificada do t√≠tulo $i$. Esta f√≥rmula segue diretamente da linearidade da derivada e da defini√ß√£o de duration modificada. Ou seja, a sensibilidade da carteira √© a soma das sensibilidades dos seus componentes. $\blacksquare$

Este teorema √© crucial para gestores de carteira, pois permite calcular a duration modificada da carteira de forma simples, conhecendo as durations modificadas dos t√≠tulos individuais e suas respectivas aloca√ß√µes.

> üí° **Exemplo Num√©rico:** Um gestor de carteira tem uma carteira de R\$ 5 milh√µes composta por tr√™s t√≠tulos:
>
> *   T√≠tulo 1: R\$ 2 milh√µes com duration modificada de 3 anos.
> *   T√≠tulo 2: R\$ 1.5 milh√£o com duration modificada de 5 anos.
> *   T√≠tulo 3: R\$ 1.5 milh√£o com duration modificada de 2 anos.
>
> A duration modificada da carteira √© calculada como:
>
> $$D_{mod,carteira} = (\frac{2}{5} \times 3) + (\frac{1.5}{5} \times 5) + (\frac{1.5}{5} \times 2) = 1.2 + 1.5 + 0.6 = 3.3 \text{ anos}$$
>
> Isso significa que a carteira, como um todo, tem uma duration modificada de 3.3 anos. Portanto, um aumento de 1% nas taxas de juro deve resultar em uma queda de aproximadamente 3.3% no valor da carteira.

### Conclus√£o
Os fatores determinantes da duration e da duration modificada desempenham um papel fundamental na gest√£o de risco de taxa de juro em t√≠tulos de renda fixa. Ao compreender como esses fatores afetam a sensibilidade dos pre√ßos dos t√≠tulos √†s varia√ß√µes nas taxas de juro, investidores e gestores de carteira podem tomar decis√µes de investimento mais informadas e construir carteiras que atendam √†s suas necessidades e toler√¢ncia ao risco. A aplica√ß√£o desses conceitos no contexto do mercado brasileiro, com seus t√≠tulos p√∫blicos e privados com caracter√≠sticas espec√≠ficas, √© essencial para uma gest√£o de risco eficaz.

### Refer√™ncias
[^3]: Caracter√≠sticas dos t√≠tulos p√∫blicos brasileiros: LTN, NTN, CFT.
[^4]: T√≠tulos p√∫blicos ‚Äì Caracter√≠sticas e formas de apre√ßamento.
[^5]: Caracter√≠sticas dos principais t√≠tulos da d√≠vida p√∫blica federal.
[^10]: T√≠tulos privados - Caracter√≠sticas.
[^11]: T√çTULOS EMITIDOS POR INSTITUI√á√ïES FINANCEIRAS.
[^13]: T√çTULOS EMITIDOS POR INSTITUI√á√ïES N√ÉO FINANCEIRAS.
[^15]: Defini√ß√£o de Duration e sua aplica√ß√£o.
[^16]: Duration Modificada e Fatores Determinantes da Duration.
[^17]: Fatores Determinantes da Duration e Duration de Carteiras.
<!-- END -->