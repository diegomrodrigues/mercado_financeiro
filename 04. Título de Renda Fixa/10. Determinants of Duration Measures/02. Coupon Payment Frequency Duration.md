## Impacto da Frequ√™ncia de Pagamento de Cupons na Duration de T√≠tulos de Renda Fixa

### Introdu√ß√£o
Em cap√≠tulos anteriores [^4, ^15, ^16], discutimos a duration como uma medida da sensibilidade do pre√ßo de um t√≠tulo a varia√ß√µes nas taxas de juro e exploramos diversos fatores que influenciam a duration, incluindo a amortiza√ß√£o do principal. Expandindo o conceito apresentado anteriormente, este cap√≠tulo tem como objetivo aprofundar a influ√™ncia da frequ√™ncia de pagamentos de cupons na duration, demonstrando como a maior frequ√™ncia de pagamentos de cupons tende a reduzir a duration de um t√≠tulo.

### Conceitos Fundamentais
A **duration**, como vimos anteriormente [^15, ^16], √© uma medida que quantifica a sensibilidade do pre√ßo de um t√≠tulo de renda fixa a mudan√ßas nas taxas de juro. Ela representa o prazo m√©dio ponderado dos fluxos de caixa de um t√≠tulo, onde os pesos s√£o dados pelo valor presente desses fluxos em rela√ß√£o ao pre√ßo do t√≠tulo. Quanto maior a duration, maior a sensibilidade do pre√ßo do t√≠tulo a varia√ß√µes nas taxas de juro.

Outro fator determinante da duration √© a **frequ√™ncia de pagamento do cupom**.

**Frequ√™ncia de pagamentos do cupom e duration**

> "Considerando dois t√≠tulos com mesma taxa anual de cupom de juros, o t√≠tulo que pagar o cupom de juros com maior frequ√™ncia dentro do ano vai ter menos dura√ß√£o." [^16]

Esta afirma√ß√£o descreve uma rela√ß√£o inversa: quanto mais frequentemente um t√≠tulo paga cupons, menor sua duration. Isso ocorre porque uma maior frequ√™ncia de pagamento de cupons distribui os fluxos de caixa do t√≠tulo mais uniformemente ao longo do tempo, reduzindo a import√¢ncia relativa do pagamento do principal no vencimento. Consequentemente, o t√≠tulo se torna menos sens√≠vel a varia√ß√µes nas taxas de juro.

**Prova:**
Para entender essa rela√ß√£o, podemos utilizar a f√≥rmula da Duration de Macaulay:

$$D = \frac{\sum_{t=1}^{n} t \cdot PV(CF_t)}{\sum_{t=1}^{n} PV(CF_t)}$$

Onde:
- $D$ √© a Duration.
- $t$ √© o tempo at√© o recebimento do fluxo de caixa.
- $PV(CF_t)$ √© o valor presente do fluxo de caixa no tempo $t$.
- $n$ √© o n√∫mero total de per√≠odos.

I. Suponha dois t√≠tulos, A e B, com a mesma taxa de cupom anual e prazo de vencimento. O t√≠tulo A paga cupons anualmente e o t√≠tulo B paga cupons semestralmente.

II. O t√≠tulo B, com pagamentos semestrais, ter√° fluxos de caixa menores em cada per√≠odo ($C/2$ em vez de $C$), mas ter√° mais per√≠odos de pagamento. O valor presente de cada cupom ser√° descontado por um per√≠odo menor (metade de um ano), o que aumenta o valor presente dos cupons iniciais em rela√ß√£o ao t√≠tulo A.

III.  Na f√≥rmula da Duration, os fluxos de caixa iniciais do t√≠tulo B (cupons semestrais) ter√£o um peso maior devido ao seu valor presente relativamente maior. Como esses fluxos de caixa ocorrem mais cedo, eles diminuem a dura√ß√£o geral.

IV. O denominador da f√≥rmula da Duration representa o pre√ßo do t√≠tulo. Como ambos os t√≠tulos t√™m a mesma taxa de cupom anual e s√£o descontados a taxas compar√°veis, seus pre√ßos ser√£o semelhantes.

V. No numerador, que √© a soma ponderada dos valores presentes dos fluxos de caixa multiplicados pelo tempo at√© o recebimento, o t√≠tulo B ter√° pesos maiores para os fluxos de caixa iniciais, reduzindo assim a dura√ß√£o geral em compara√ß√£o com o t√≠tulo A. Portanto, a duration do t√≠tulo B √© menor que a do t√≠tulo A. ‚ñ†

**Exemplo:**

Considere dois t√≠tulos com as seguintes caracter√≠sticas:

*   **T√≠tulo A:** Valor de face = R\$1000, Taxa de cupom = 10% a.a., pago anualmente, Prazo = 5 anos.
*   **T√≠tulo B:** Valor de face = R\$1000, Taxa de cupom = 10% a.a., pago semestralmente (5% a cada semestre), Prazo = 5 anos.

Ambos os t√≠tulos t√™m a mesma taxa de cupom anual, mas o T√≠tulo B paga cupons com maior frequ√™ncia. Nesse cen√°rio, o T√≠tulo B ter√° uma duration menor do que o T√≠tulo A. Isso ocorre porque o investidor no T√≠tulo B recebe pagamentos de cupom mais frequentes, o que reduz a import√¢ncia relativa do pagamento do principal no vencimento e diminui a sensibilidade do t√≠tulo a varia√ß√µes nas taxas de juro.

Vamos calcular numericamente a duration dos dois t√≠tulos para ilustrar essa rela√ß√£o. Assumiremos uma taxa de desconto de 10% a.a. para o T√≠tulo A e 5% a cada semestre (aproximadamente 10.25% a.a.) para o T√≠tulo B.

> üí° **Exemplo Num√©rico:**
>
> **T√≠tulo A (Cupom Anual):**
>
> | Ano | Cupom (R\$) | Principal (R\$) | Fluxo de Caixa (R\$) | PV a 10% (R\$) | Peso | Ano \* Peso |
> |-----|------------|----------------|-----------------------|-------------|------|----------|
> | 1   | 100        | 0              | 100                   | 90.91       | 0.0909 | 0.0909  |
> | 2   | 100        | 0              | 100                   | 82.64       | 0.0826 | 0.1653  |
> | 3   | 100        | 0              | 100                   | 75.13       | 0.0751 | 0.2254  |
> | 4   | 100        | 0              | 100                   | 68.30       | 0.0683 | 0.2732  |
> | 5   | 100        | 1000           | 1100                  | 683.01      | 0.6830 | 3.4151  |
> |     |            |                |                       | **Total:** 1000 | **Total:** 1.00 | **Total:** 4.1699  |
>
> Duration (T√≠tulo A) ‚âà 4.17 anos
>
> **T√≠tulo B (Cupom Semestral):**
>
> | Semestre | Cupom (R\$) | Principal (R\$) | Fluxo de Caixa (R\$) | PV a 5% (R\$) | Peso | Semestre \* Peso |
> |----------|------------|----------------|-----------------------|-------------|------|---------------|
> | 1        | 50         | 0              | 50                    | 47.62       | 0.0476 | 0.0476        |
> | 2        | 50         | 0              | 50                    | 45.35       | 0.0454 | 0.0907        |
> | 3        | 50         | 0              | 50                    | 43.19       | 0.0432 | 0.1296        |
> | 4        | 50         | 0              | 50                    | 41.14       | 0.0411 | 0.1646        |
> | 5        | 50         | 0              | 50                    | 39.18       | 0.0392 | 0.1959        |
> | 6        | 50         | 0              | 50                    | 37.32       | 0.0373 | 0.2239        |
> | 7        | 50         | 0              | 50                    | 35.54       | 0.0355 | 0.2488        |
> | 8        | 50         | 0              | 50                    | 33.85       | 0.0338 | 0.2708        |
> | 9        | 50         | 0              | 50                    | 32.24       | 0.0322 | 0.2902        |
> | 10       | 50         | 1000           | 1050                  | 647.70      | 0.6477 | 6.4770        |
> |          |            |                |                       | **Total:** 1000 | **Total:** 1.00 | **Total:** 2.9391 |
>
> Duration (T√≠tulo B) ‚âà 2.94 semestres = 1.47 anos
>
> Convertendo a duration do T√≠tulo B para anos, obtemos 2.94 semestres / 2 = 1.47 anos. Como podemos observar, o T√≠tulo B (cupom semestral) tem uma duration significativamente menor (1.47 anos) do que o T√≠tulo A (cupom anual) (4.17 anos), confirmando a rela√ß√£o inversa entre a frequ√™ncia de pagamento de cupons e a duration.
>
> ```python
> import numpy as np
> import matplotlib.pyplot as plt
>
> # Data for Title A (Annual Coupon)
> years_a = np.array([1, 2, 3, 4, 5])
> cash_flows_a = np.array([100, 100, 100, 100, 1100])
>
> # Data for Title B (Semi-annual Coupon)
> semesters_b = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
> cash_flows_b = np.array([50, 50, 50, 50, 50, 50, 50, 50, 50, 1050])
>
> # Plotting the cash flows
> plt.figure(figsize=(14, 6))
>
> plt.subplot(1, 2, 1)
> plt.bar(years_a, cash_flows_a, label='Cash Flows', color='blue')
> plt.xlabel('Year')
> plt.ylabel('Cash Flow (R$)')
> plt.title('Title A (Annual Coupon) Cash Flows')
> plt.xticks(years_a)
> plt.grid(True)
>
> plt.subplot(1, 2, 2)
> plt.bar(semesters_b, cash_flows_b, label='Cash Flows', color='green')
> plt.xlabel('Semester')
> plt.ylabel('Cash Flow (R$)')
> plt.title('Title B (Semi-annual Coupon) Cash Flows')
> plt.xticks(semesters_b)
> plt.grid(True)
>
> plt.tight_layout()
> plt.show()
> ```

**Proposi√ß√£o 1:** *A duration de um t√≠tulo com pagamentos de cupons mais frequentes converge para zero √† medida que a frequ√™ncia tende ao infinito.*

**Demonstra√ß√£o:**
I. Seja $C$ a taxa de cupom anual, $f$ a frequ√™ncia de pagamento de cupons (n√∫mero de pagamentos por ano) e $T$ o prazo de vencimento. O valor do cupom pago em cada per√≠odo √© $C/f$.

II. A duration ($D$) pode ser aproximada pela seguinte f√≥rmula, considerando o valor presente dos fluxos de caixa:

$$D = \frac{\sum_{i=1}^{f \cdot T} \frac{i}{f} \cdot PV(C/f) + T \cdot PV(Principal)}{\sum_{i=1}^{f \cdot T} PV(C/f) + PV(Principal)}$$

III. √Ä medida que $f$ tende ao infinito, o pagamento de cupons se aproxima de um fluxo cont√≠nuo. Neste caso, a contribui√ß√£o dos cupons para a duration diminui, pois os pagamentos s√£o distribu√≠dos uniformemente ao longo do tempo.

IV. Matematicamente, podemos representar essa converg√™ncia para zero da seguinte forma:

$$\lim_{f \to \infty} D = 0$$

Isso ocorre porque, com pagamentos cont√≠nuos de cupons, a import√¢ncia relativa do pagamento do principal no vencimento diminui, resultando em uma duration que tende a zero. ‚ñ†

> üí° **Exemplo Num√©rico:**
>
> Para ilustrar a Proposi√ß√£o 1, consideremos um t√≠tulo com taxa de cupom de 10% a.a. e prazo de 10 anos. Vamos calcular a duration para diferentes frequ√™ncias de pagamento de cupons (anual, semestral, trimestral, mensal e di√°ria) e observar a converg√™ncia para zero. Assumiremos uma taxa de desconto igual √† taxa de cupom para simplificar os c√°lculos.
>
> | Frequ√™ncia   | Pagamentos por ano (f) | Duration (anos) |
> |--------------|------------------------|-----------------|
> | Anual        | 1                      | 6.14            |
> | Semestral    | 2                      | 4.17            |
> | Trimestral   | 4                      | 3.22            |
> | Mensal       | 12                     | 2.60            |
> | Di√°ria (252) | 252                    | 1.04            |
>
> Como podemos observar, √† medida que a frequ√™ncia de pagamento de cupons aumenta, a duration diminui significativamente. Embora a duration n√£o convirja exatamente para zero com pagamentos di√°rios (devido ao principal), a tend√™ncia de diminui√ß√£o √© clara.
>
> ```python
> import numpy as np
> import matplotlib.pyplot as plt
>
> # Define parameters
> coupon_rate = 0.10  # Annual coupon rate
> maturity = 10        # Years to maturity
> face_value = 1000     # Face value of the bond
>
> # Define payment frequencies
> frequencies = [1, 2, 4, 12, 252]  # Annual, Semiannual, Quarterly, Monthly, Daily
>
> # Calculate duration for each frequency
> durations = []
> for f in frequencies:
>     cash_flows = np.array([coupon_rate * face_value / f] * (f * maturity))
>     cash_flows[-1] += face_value  # Add face value to the last payment
>     
>     times = np.arange(1, len(cash_flows) + 1) / f
>     
>     pv_cash_flows = cash_flows / (1 + coupon_rate / f)**times
>     
>     duration = np.sum(times * pv_cash_flows) / np.sum(pv_cash_flows)
>     durations.append(duration)
>
> # Plotting the results
> plt.figure(figsize=(10, 6))
> plt.plot(frequencies, durations, marker='o', linestyle='-', color='blue')
> plt.xlabel('Payment Frequency (per year)')
> plt.ylabel('Duration (years)')
> plt.title('Duration vs. Payment Frequency')
> plt.grid(True)
> plt.xticks(frequencies)
> plt.show()
> ```

**Proposi√ß√£o 1.1:** *A proposi√ß√£o anterior √© v√°lida apenas sob a suposi√ß√£o de taxas de juros constantes ao longo do tempo. Em um ambiente de taxas de juros vol√°teis, a duration pode n√£o convergir exatamente para zero, mas tender√° a um valor m√≠nimo.*

**Demonstra√ß√£o:**
I. A demonstra√ß√£o anterior considera uma taxa de desconto constante para calcular o valor presente dos fluxos de caixa.

II. Em cen√°rios reais, as taxas de juros variam ao longo do tempo, afetando o valor presente dos cupons.

III. A volatilidade das taxas de juros introduz uma incerteza que impede a duration de convergir precisamente para zero. Em vez disso, a duration se aproximar√° de um limite inferior, que representa o m√≠nimo risco de taxa de juros que um investidor pode alcan√ßar com pagamentos de cupom cont√≠nuos. ‚ñ†

**Implica√ß√µes Pr√°ticas:**
A compreens√£o da rela√ß√£o entre a frequ√™ncia de pagamento de cupons e a duration √© crucial para investidores e gestores de carteira. T√≠tulos com pagamentos de cupons mais frequentes oferecem menor sensibilidade a varia√ß√µes nas taxas de juro, tornando-os mais adequados para investidores que buscam menor risco de taxa de juro. Por outro lado, t√≠tulos com pagamentos de cupons menos frequentes podem ser mais adequados para investidores que buscam maiores retornos e est√£o dispostos a aceitar maior risco de taxa de juro.

Em continuidade ao t√≥pico discutido [^16], vamos analisar como as cl√°usulas de *calls* e *puts* afetam a duration. As cl√°usulas de *call* d√£o ao emissor o direito de resgatar o t√≠tulo antes do vencimento, enquanto as cl√°usulas de *put* d√£o ao investidor o direito de vender o t√≠tulo de volta ao emissor antes do vencimento.

**Teorema 2:** *Cl√°usulas de calls e puts diminuem a duration efetiva de um t√≠tulo, limitando o per√≠odo em que o investidor est√° exposto √†s flutua√ß√µes das taxas de juros.*

**Demonstra√ß√£o:**
I. Cl√°usulas de *call*: Se as taxas de juros caem, o emissor pode exercer a op√ß√£o de *call*, resgatando o t√≠tulo a um pre√ßo predeterminado. Isso limita o potencial de valoriza√ß√£o do t√≠tulo para o investidor, pois ele n√£o se beneficia totalmente da queda nas taxas de juros. Al√©m disso, o investidor perde os fluxos de caixa futuros do t√≠tulo.

II. Cl√°usulas de *put*: Se as taxas de juros sobem, o investidor pode exercer a op√ß√£o de *put*, vendendo o t√≠tulo de volta ao emissor a um pre√ßo predeterminado. Isso limita as perdas do investidor em um cen√°rio de alta de juros, pois ele pode evitar a deprecia√ß√£o do t√≠tulo.

III. Em ambos os casos, as cl√°usulas de *call* e *put* reduzem a incerteza sobre os fluxos de caixa futuros do t√≠tulo, limitando o horizonte de tempo em que o investidor est√° exposto √†s flutua√ß√µes das taxas de juros.

IV. A duration efetiva √© uma medida que leva em considera√ß√£o o impacto das op√ß√µes de *call* e *put* na sensibilidade do pre√ßo do t√≠tulo √†s mudan√ßas nas taxas de juros. Ela √© calculada da seguinte forma:

$$Duration_{Efetiva} = \frac{P_{‚Üì} - P_{‚Üë}}{2 \cdot P_{0} \cdot \Delta y}$$

Onde:
*   $P_{‚Üë}$ √© o pre√ßo do t√≠tulo se as taxas de juros aumentarem em $\Delta y$.
*   $P_{‚Üì}$ √© o pre√ßo do t√≠tulo se as taxas de juros diminu√≠rem em $\Delta y$.
*   $P_{0}$ √© o pre√ßo inicial do t√≠tulo.
*   $\Delta y$ √© a varia√ß√£o nas taxas de juros.

V. Como as cl√°usulas de *call* e *put* limitam a varia√ß√£o do pre√ßo do t√≠tulo em resposta a mudan√ßas nas taxas de juros, a duration efetiva ser√° menor do que a duration te√≥rica (calculada sem considerar as op√ß√µes). ‚ñ†

> üí° **Exemplo Num√©rico:**
>
> Vamos considerar um t√≠tulo com as seguintes caracter√≠sticas:
>
> *   Valor de face: R\$1000
> *   Taxa de cupom: 8% a.a., pago semestralmente
> *   Prazo: 5 anos
> *   Pre√ßo inicial ($P_0$): R\$1000
> *   Cl√°usula de call: Resgat√°vel a R\$1020 ap√≥s 2 anos
>
> Assumindo que as taxas de juros no mercado est√£o em 8%, vamos simular o impacto de uma varia√ß√£o nas taxas de juros de ¬±0.5% (Œîy = 0.005) e calcular a duration efetiva.
>
> *   **Cen√°rio 1: Taxas de juros aumentam 0.5% (para 8.5%)**
>
>     Neste cen√°rio, o pre√ßo do t√≠tulo diminuir√°. Calculando o novo pre√ßo ($P_{‚Üë}$), obtemos aproximadamente R\$980.
>
> *   **Cen√°rio 2: Taxas de juros diminuem 0.5% (para 7.5%)**
>
>     Neste cen√°rio, o pre√ßo do t√≠tulo aumentaria, mas devido √† cl√°usula de *call*, o pre√ßo √© limitado ao pre√ßo de resgate (R\$1020) ap√≥s 2 anos. Para simplificar, vamos assumir que o pre√ßo sobe para R\$1015 (limitado pela expectativa de *call*). Portanto, $P_{‚Üì}$ = R\$1015.
>
> Agora, podemos calcular a duration efetiva:
>
> $$Duration_{Efetiva} = \frac{P_{‚Üì} - P_{‚Üë}}{2 \cdot P_{0} \cdot \Delta y} = \frac{1015 - 980}{2 \cdot 1000 \cdot 0.005} = \frac{35}{10} = 3.5 \text{ anos}$$
>
> Em compara√ß√£o, a duration de Macaulay te√≥rica (sem considerar a op√ß√£o de *call*) seria maior, aproximadamente 4 anos. A cl√°usula de *call* reduziu a duration efetiva, refletindo a menor sensibilidade do pre√ßo do t√≠tulo √†s quedas nas taxas de juros devido √† possibilidade de resgate antecipado.
>
> ```python
> import numpy as np
>
> # Define parameters
> P0 = 1000       # Initial price of the bond
> delta_y = 0.005   # Change in interest rates (0.5%)
>
> # Simulate bond prices with rate increase and decrease
> P_up = 980      # Price if rates go up
> P_down = 1015    # Price if rates go down (limited by call option)
>
> # Calculate effective duration
> effective_duration = (P_down - P_up) / (2 * P0 * delta_y)
>
> print(f"Effective Duration: {effective_duration:.2f} years")
> ```

**Teorema 2.1:** *A magnitude da redu√ß√£o na duration efetiva devido a cl√°usulas de call e put depende da volatilidade das taxas de juros e da proximidade do pre√ßo do t√≠tulo aos pre√ßos de exerc√≠cio (strike prices) das op√ß√µes.*

**Demonstra√ß√£o:**

I. Volatilidade das taxas de juros: Em mercados com alta volatilidade das taxas de juros, as op√ß√µes de call e put t√™m maior probabilidade de serem exercidas, o que leva a uma maior redu√ß√£o na duration efetiva.

II. Proximidade aos pre√ßos de exerc√≠cio: Se o pre√ßo do t√≠tulo estiver pr√≥ximo do pre√ßo de exerc√≠cio da op√ß√£o de call ou put, pequenas mudan√ßas nas taxas de juros podem levar ao exerc√≠cio da op√ß√£o, resultando em uma maior sensibilidade da duration efetiva √†s mudan√ßas nas taxas de juros. Por outro lado, se o pre√ßo do t√≠tulo estiver muito distante dos pre√ßos de exerc√≠cio, as op√ß√µes ter√£o menor probabilidade de serem exercidas, e a redu√ß√£o na duration efetiva ser√° menor.

III. A combina√ß√£o desses dois fatores determina o impacto total das cl√°usulas de call e put na duration efetiva. Um modelo de precifica√ß√£o de op√ß√µes, como o modelo de Black-Scholes adaptado para t√≠tulos de renda fixa, pode ser usado para quantificar esse impacto. ‚ñ†

### Conclus√£o
A frequ√™ncia de pagamento de cupons √© um fator importante a ser considerado na an√°lise da duration de t√≠tulos de renda fixa. T√≠tulos com pagamentos de cupons mais frequentes tendem a ter uma duration menor, o que os torna menos sens√≠veis a varia√ß√µes nas taxas de juro. A compreens√£o dessa rela√ß√£o permite aos investidores e gestores de carteira tomar decis√µes mais informadas sobre a aloca√ß√£o de seus recursos, ajustando a exposi√ß√£o ao risco de taxa de juro de acordo com seus objetivos e toler√¢ncia ao risco. Ao considerar a frequ√™ncia de pagamento de cupons em conjunto com outros fatores, como a amortiza√ß√£o do principal, a maturidade e as cl√°usulas de *call* e *put*, √© poss√≠vel construir carteiras de t√≠tulos de renda fixa que atendam √†s necessidades espec√≠ficas de cada investidor.

### Refer√™ncias
[^1]: Cap√≠tulo 4 ‚Äì Mercado e T√≠tulos de Renda Fixa no Brasil.
[^2]: 4.1 Apresenta√ß√£o do cap√≠tulo
[^3]: 4.2 Classifica√ß√£o dos t√≠tulos de renda fixa no Brasil
[^4]: 4.3 T√≠tulos p√∫blicos ‚Äì Caracter√≠sticas e formas de apre√ßamento
[^5]: Caracter√≠sticas dos principais t√≠tulos da d√≠vida p√∫blica federal
[^6]: T√çTULOS P√öBLICOS MAIS NEGOCIADOS
[^7]: LFT
[^8]: NTN
[^9]: b) NTN-C
[^10]: 4.4 T√≠tulos privados - Caracter√≠sticas
[^11]: T√çTULOS EMITIDOS POR INSTITUI√á√ïES FINANCEIRAS
[^12]: OUTROS T√çTULOS
[^13]: T√çTULOS EMITIDOS POR INSTITUI√á√ïES N√ÉO FINANCEIRAS
[^14]: Defini√ß√µes
[^15]: 4.5 DURATION
[^16]: FATORES DETERMINANTES DAS MEDIDAS DE DURA√á√ÉO
<!-- END -->